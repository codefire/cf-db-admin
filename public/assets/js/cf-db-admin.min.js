function MainConfig(a,b){a.when("/Databases/",{templateUrl:"/cf-templates/Databases.html",controller:"DatabaseController",controllerAs:"databaseCtrl","public":!1}).when("/Databases/:databaseName/Tables/",{templateUrl:"/cf-templates/Tables.html",controller:"TableController",controllerAs:"tableCtrl","public":!1}).when("/log-in/",{templateUrl:"/cf-templates/Log-In.html",controller:"LoginController",controllerAs:"loginCtrl","public":!0}),b.html5Mode(!0)}function RequestWrapper(a){return{foreground:function(){return arguments&&arguments[0]&&(arguments[0].loadType="foreground"),a.apply(a,arguments)},background:function(){return arguments&&arguments[0]&&(arguments[0].loadType="background"),a.apply(a,arguments)},invisible:function(){return arguments&&arguments[0]&&(arguments[0].loadType="invisible"),a.apply(a,arguments)}}}function Navigation(){return{showView:!0}}function AuthService(a,b){return{loggedIn:!1,token:null,login:function(a){var c=this;b.foreground({method:"post",url:"/api/dummy/log-in.json",data:{credentials:a}}).success(function(a){"undefined"!=typeof console&&null!==console&&console.log("api success",a),1==a.payload.loggedIn&&(c.loggedIn=!0,c.token=a.payload.token)}).error(function(a){"undefined"!=typeof console&&null!==console&&console.log("api error",a)})},logout:function(){this.loggedIn=!1},isLoggedIn:function(b){return"undefined"==typeof b&&(b=!0),0==this.loggedIn&&1==b&&a.url("/log-in/"),this.loggedIn}}}function MainController(a,b,c,d,e,f,g){var h;h=this,h.debug="If you can see this, then MainController is working :)",h.dataLoaded=!1,h.location=e,h.route=c,h.errors=[],h.Navigation=f,h.auth=g,h.settings={apiType:"dummy"},g.isLoggedIn(),h.logout=function(){g.logout(),e.url("/log-in/")}}function DatabaseController(a,b,c,d,e,f,g){var h;h=this,h.debug="If you can see this, then DatabaseController is working :)",h.dataLoaded=!1,h.location=e.path(),h.errors=[],h.Navigation=f,h.databases=[],h.params=d,g.isLoggedIn(),h.loadDatabases=function(){b.foreground({method:"post",url:"/api/dummy/databases.json",data:{loginData:"test"}}).success(function(a){"undefined"!=typeof console&&null!==console&&console.log("api success",a),h.databases=a.payload.databases}).error(function(a){"undefined"!=typeof console&&null!==console&&console.log("api error",a)})},h.loadDatabases()}function TableController(a,b,c,d,e,f,g){var h;h=this,h.debug="If you can see this, then DatabaseController is working :)",h.dataLoaded=!1,h.location=e.path(),h.errors=[],h.Navigation=f,h.tables=[],h.params=d,g.isLoggedIn(),h.loadTables=function(){b.foreground({method:"post",url:"/api/dummy/tables.json",data:{loginData:"test"}}).success(function(a){"undefined"!=typeof console&&null!==console&&console.log("api success",a),h.tables=a.payload.tables}).error(function(a){"undefined"!=typeof console&&null!==console&&console.log("api error",a)})},h.loadTables()}function LoginController(a,b,c,d,e,f,g){var h;h=this,h.debug="If you can see this, then LoginController is working :)",h.dataLoaded=!1,h.location=e.path(),h.errors=[],h.Navigation=f,h.username="demoUser",h.password="123456789",console.log("login controller ran"),h.login=function(){g.login({username:h.username,password:h.password}),1==g.isLoggedIn(!1)&&e.url("/Databases/")}}angular.module("cf-db",["ngRoute","cf-templates"]).config(MainConfig).factory("Request",RequestWrapper).factory("Navigation",Navigation).factory("AuthService",AuthService).controller("MainController",MainController).controller("DatabaseController",DatabaseController).controller("TableController",TableController),AuthService.$inject=["$location","Request","Navigation"],MainController.$inject=["$window","Request","$route","$routeParams","$location","Navigation","AuthService"],DatabaseController.$inject=["$window","Request","$route","$routeParams","$location","Navigation","AuthService"],TableController.$inject=["$window","Request","$route","$routeParams","$location","Navigation","AuthService"],angular.module("cf-templates",["/cf-templates/Databases.html","/cf-templates/Log-In.html","/cf-templates/Tables.html"]),angular.module("/cf-templates/Databases.html",[]).run(["$templateCache",function(a){a.put("/cf-templates/Databases.html",'<h2>Databases template</h2>\n<ul>\n    <li>debug : {{databaseCtrl.debug}}</li>\n</ul>\n\n<div ng-show="databaseCtrl.databases">\n\n    <ul>\n        <li ng-repeat="database in databaseCtrl.databases">\n           <a href="/Databases/{{database.name}}/Tables/">{{database.name}}</a>\n        </li>\n    </ul>\n</div>\n\n<ul>\n    <li ng-repeat="(name, param) in databaseCtrl.params">\n        <pre>{{name}} = {{param}}</pre>\n    </li>\n</ul>')}]),angular.module("/cf-templates/Log-In.html",[]).run(["$templateCache",function(a){a.put("/cf-templates/Log-In.html",'<h1>Log In</h1>\n\n<div ng-show="!main.auth.loggedIn">\n    <p>Temp Login place holder</p>\n    <ul>\n        <li>\n            <label for="username">Username : </label>\n            <input type="text" id="username" ng-model="loginCtrl.username"/>\n        </li>\n        <li>\n            <label for="password">Password : </label>\n            <input type="password" id="password" ng-model="loginCtrl.password"/>\n        </li>\n    </ul>\n    <button class="button" ng-click="loginCtrl.login()">Log in</button>\n</div>\n\n<div ng-show="main.auth.loggedIn">\n    <p>You are now logged in :)</p>\n</div>\n')}]),angular.module("/cf-templates/Tables.html",[]).run(["$templateCache",function(a){a.put("/cf-templates/Tables.html",'<h2>Tables template</h2>\n<ul>\n    <li>debug : {{tableCtrl.debug}}</li>\n</ul>\n\n<div ng-show="tableCtrl.tables">\n\n    <ul>\n        <li ng-repeat="table in tableCtrl.tables">\n           <a href="/Tables/{{table.name}}/">{{table.name}}</a>\n        </li>\n    </ul>\n</div>\n\n<ul>\n    <li ng-repeat="(name, param) in tableCtrl.params">\n        <pre>{{name}} = {{param}}</pre>\n    </li>\n</ul>')}]),angular.module("cf-db").controller("LoginController",LoginController),LoginController.$inject=["$window","Request","$route","$routeParams","$location","Navigation","AuthService"];